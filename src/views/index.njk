{% extends "default.njk" %}

{% block content %}
<h1 class="text-center">Modules</h1>
  <div class="accordion" id="accordionIndex">
    {% for module in modules.modules %}
    <div class="accordion-item">
      <h2 class="accordion-header" id="module-heading-{{ loop.index0 }}">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapse-{{ loop.index0 }}"
                aria-expanded="true" aria-controls="collapse-{{ loop.index0 }}">
          {{ module.name }}
        </button>
      </h2>
      <div id="collapse-{{ loop.index0 }}" class="accordion-collapse collapse"
           aria-labelledby="module-heading-{{ loop.index0 }}"
           data-bs-parent="#accordionIndex">
        <div class="accordion-body">
          <div class="list-group list-group-flush list-group">
          {% for unit in module.units %}
            {% set url = modules.buildUnitURL(unit) %}
            <a href="{{ url }}" class="list-group-item list-group-item-action">
              {{ loop.index }}. {{ unit.name }}
            </a>
          {% endfor %}
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
{% endblock %}
